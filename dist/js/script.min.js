document.addEventListener("DOMContentLoaded",function(){d=(new Date).getFullYear(),document.querySelector(".footer__year").textContent=d;function e(){w[p].classList.remove("active"),w[--p].classList.add("active"),o=900<=window.innerWidth?33.33:100,s=(p-1)*o,m.style.transform="translateX(".concat(-s,"%)")}function t(){w[p].classList.remove("active"),w[++p].classList.add("active"),o=900<=window.innerWidth?33.33:100,s=(p-1)*o,m.style.transform="translateX(".concat(-s,"%)")}function r(){L.classList.toggle("active"),document.body.classList.toggle("popup-active")}function n(){var e=800<=window.innerWidth?50:100;(800<=window.innerWidth?A.length-2:A.length-1)<=S?(S=0,q.style.transform="translateX(0)"):(e=++S*e,q.style.transform="translateX(".concat(-e,"%)"))}var i,o,s,c,a,l,d=document.querySelectorAll(".to-animate"),u=(900<=window.innerWidth?(i=new IntersectionObserver(function(e,t){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("animated"),t.unobserve(e.target))})},{rootMargin:"-200px"}),d.forEach(function(e){i.observe(e)})):d.forEach(function(e){return e.classList.remove("to-animate")}),document.querySelector(".back-to-top")),v=(window.addEventListener("scroll",function(){500<=window.scrollY?(u.classList.remove("hidden"),u.classList.add("active")):window.scrollY<500&&u.classList.contains("active")&&(u.classList.remove("active"),u.classList.add("hidden"))}),u.addEventListener("click",function(){window.scrollTo({top:0})}),document.querySelector(".nav__link-img-conditioning")),h=document.querySelector(".nav__link-img-recuperation"),f=document.querySelector(".nav__link-img-wodkan"),g=(fetch("./images/svg/fan-icon.svg").then(function(e){return e.text()}).then(function(e){v.innerHTML=e}).catch(function(e){return console.error(e)}),fetch("./images/svg/recuperation-icon.svg").then(function(e){return e.text()}).then(function(e){h.innerHTML=e}).catch(function(e){return console.error(e)}),fetch("./images/svg/wod-kan-icon.svg").then(function(e){return e.text()}).then(function(e){f.innerHTML=e}).catch(function(e){return console.error(e)}),document.querySelectorAll(".counter__stats-stat")),d=document.querySelector(".counter"),m=(new IntersectionObserver(function(e){e[0].isIntersecting&&g.forEach(function(n){var r=function(){var e=n.getAttribute("data-number"),t=parseInt(n.textContent);n.classList.add("show");t<e?(n.textContent="".concat(Math.floor(t+2)),setTimeout(r,5)):n.textContent=e};r()})},{rootMargin:"-250px"}).observe(d),document.querySelector(".gallery__images")),w=document.querySelectorAll(".gallery__img"),y=document.querySelector(".gallery__btn--next"),b=document.querySelector(".gallery__btn--prev"),L=document.querySelector(".gallery__popup"),_=L.querySelector(".gallery__popup-img"),d=L.querySelector(".gallery__close-popup"),p=1,q=(window.addEventListener("resize",function(){o=900<=window.innerWidth?33.33:100,s=(p-1)*o,m.style.transform="translateX(".concat(-s,"%)")}),L.addEventListener("click",function(e){e.target===L&&r()}),w.forEach(function(n){return n.addEventListener("click",function(){var e=n.getAttribute("src"),t=n.getAttribute("alt");_.setAttribute("src",e),_.setAttribute("alt",t),r()})}),d.addEventListener("click",r),window.innerWidth<=900&&(b.classList.add("disabled"),b.setAttribute("disabled","true")),b.addEventListener("click",function(){1===p&&900<=window.innerWidth||2===p&&window.innerWidth<900?(e(),b.classList.add("disabled"),b.setAttribute("disabled","true")):(y.classList.remove("disabled"),y.removeAttribute("disabled"),e())}),y.addEventListener("click",function(){p===w.length-2?(t(),y.classList.add("disabled"),y.setAttribute("disabled","true")):(b.removeAttribute("disabled"),b.classList.remove("disabled"),y.classList.remove("disabled"),y.removeAttribute("disabled"),t())}),document.querySelector(".reviews__reviews")),A=document.querySelectorAll(".reviews__box"),S=0,x=(window.addEventListener("resize",function(){var e=800<=window.innerWidth?50:100,e=S*e;q.style.transform="translateX(".concat(-e,"%)")}),l=setInterval(n,4e3),q.addEventListener("touchstart",function(e){e.preventDefault(),c=e.touches[0].clientX,clearInterval(l)}),q.addEventListener("touchend",function(e){e.preventDefault(),a=e.changedTouches[0].clientX,x(),l=setInterval(n,4e3)}),function(){var e=800<=window.innerWidth?50:100,t=800<=window.innerWidth?A.length-2:A.length-1;50<c-a&&S<t?S++:50<a-c&&0<S&&S--,q.style.transform="translateX(".concat(-e*S,"%)")});document.querySelectorAll(".questions__accordion-toggler").forEach(function(t){t.addEventListener("click",function(){var n=t.closest(".questions__accordion-box").querySelector(".questions__accordion-answer"),e=n.style.height&&"0px"!==n.style.height;document.querySelectorAll(".questions__accordion-answer").forEach(function(e){var t;e!==n&&(e.setAttribute("aria-hidden","true"),e.style.height=e.scrollHeight+"px",requestAnimationFrame(function(){e.style.height="0"}),(t=e.closest(".questions__accordion-box").querySelector(".questions__accordion-toggler")).classList.remove("opened"),t.setAttribute("aria-expanded","false"))}),e?(n.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"),t.classList.remove("opened"),n.style.height=n.scrollHeight+"px",requestAnimationFrame(function(){n.style.height="0"})):(n.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),t.classList.add("opened"),n.style.height=n.scrollHeight+"px")})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjdXJyZW50WWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImhhbmRsZUZvb3RlclllYXIiLCJzaG93UHJldkltZyIsImFsbEltYWdlcyIsInNob3dOZXh0SW1nIiwiY2xhc3NMaXN0IiwiaW5kZXgiLCJhZGQiLCJzdGVwIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW1hZ2VzQm94Iiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJzaG93UG9wdXAiLCJwb3B1cCIsImUiLCJ0b2dnbGUiLCJoYW5kbGVSZXZpZXdzQ2Fyb3VzZWxsIiwibGVuZ3RoIiwiYWxsUmV2aWV3cyIsInJldmlld3NCb3giLCJyZXZpZXdzSW5kZXgiLCJyZXZpZXdzQ2Fyb3VzZWxsSW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInN0YXJ0WCIsImNsaWVudFgiLCJjbGVhckludGVydmFsIiwiZW5kWCIsInRvQW5pbWF0ZVNlY3Rpb25zIiwicXVlcnlTZWxlY3RvckFsbCIsImJhY2tUb1RvcEFycm93QnRuIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwib2JzZXJ2ZXIiLCJzZWN0aW9uT2JzZXJ2ZXIiLCJmb3JFYWNoIiwiZW50cnkiLCJ0YXJnZXQiLCJpc0ludGVyc2VjdGluZyIsInJvb3RNYXJnaW4iLCJzZWN0aW9uIiwib2JzZXJ2ZSIsInF1ZXJ5U2VsZWN0b3IiLCJhaXJDb25kaXRpb25pbmdJbWciLCJ3aW5kb3dIZWlnaHQiLCJjb250YWlucyIsInJlbW92ZSIsImhhbmRsZUJhY2tUb1RvcCIsInNjcm9sbFRvIiwidG9wIiwidGhlbiIsImlubmVySFRNTCIsIndvZGthbkltZyIsIm9wdGlvbnMiLCJmZXRjaCIsInJlcyIsInRleHQiLCJkYXRhIiwicmVjdXBlcmF0aW9uSW1nIiwiY29uc29sZSIsImVycm9yIiwiZXJyIiwiY2xvc2VQb3B1cEJ0biIsInVwZGF0ZUNvdW50ZXIiLCJmaW5hbE51bWJlciIsImNvdW50ZXJJdGVtcyIsInZhbHVlIiwicGFyc2VJbnQiLCJjb3VudGVyIiwiZ2V0QXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJjb25jYXQiLCJNYXRoIiwiZmxvb3IiLCJzZXRUaW1lb3V0Iiwic3RhcnRDb3VudGVyIiwicHJldkJ0biIsInNob3dOZXh0U2xpZGUiLCJwb3B1cEltZyIsImltZyIsInNyYyIsInNldEF0dHJpYnV0ZSIsInR1cm5PbkRpc2FibGVkIiwic2hvd1ByZXZTbGlkZSIsImFsdCIsInJldmlld3NTcGVlZCIsIm5leHRCdG4iLCJyZW1vdmVBdHRyaWJ1dGUiLCJkZXZpY2VJbmRleCIsImNoYW5nZWRUb3VjaGVzIiwiaGFuZGxlU3dpcGUiLCJ0aHJlc2hvbGQiLCJwcmV2ZW50RGVmYXVsdCIsInRvdWNoZXMiLCJhbGxBY2NvcmRpb25CdG5zIiwib3RoZXJBbnN3ZXIiLCJtYXhJbmRleCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm90aGVyVG9nZ2xlciIsImlzT3BlbiIsImhlaWdodCIsImFuc3dlciIsInRvZ2dsZXIiLCJzY3JvbGxIZWlnaHQiLCJjbG9zZXN0Il0sIm1hcHBpbmdzIjoiQUFBQUEsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUF0Q0MsR0FBQ0QsSUFBaUJFLE1BQUFDLFlBQWtCLEVBQzNDSixTQUFNSyxjQUFtQixlQUFuQkEsRUFBQUEsWUFBeUJILEVBcUs5QixTQUFBSSxJQUNEQyxFQUFNQyxHQUFXQyxVQUFYRCxPQUFBQSxRQUFvQixFQUx6QkQsRUFEQUcsRUFBQUEsR0FRT0QsVUFBQUUsSUFBQSxRQUFBLEVBTlBDLEVBUTBCLEtBQTFCTCxPQUFVRyxXQUFxQixNQUFTLElBUHhDRyxHQVFPQyxFQUFPQyxHQUFBQSxFQVBkQyxFQVFRQyxNQUFNQyxVQUFRTixjQUFBQSxPQUFJLENBQUFDLEVBQUEsSUFBQSxDQVAzQixDQVNDLFNBQUFMLElBRURELEVBQU1ZLEdBQVlWLFVBQVpVLE9BQVNBLFFBQVMsRUFHeEJaLEVBWENHLEVBQUFB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QS9CckIsSUFpQ0NDLEVBRE9BLEVBQUNyQixRQUFhLDJCQUF3QixFQUNyQzlFLGNBQWMsOEJBQVMsRUFFaENnRyxFQUFBRSxFQUFBMUYsTUFBQXlGLFFBQUEsUUFBQUMsRUFBQTFGLE1BQUF5RixPQS9CQTFHLFNBaUNBbUMsaUJBQUEsOEJBQUEsRUFDRE0sUUFBQSxTQUFBNEQsR0EvQkcsSUFPT0csRUFQSEgsSUFBZ0JNLElBQ25CTixFQUFZZCxhQUFhLGNBQWUsTUFBTSxFQUM5Q2MsRUFBWXBGLE1BQU15RixPQUFTTCxFQUFZUSxhQUFlLEtBQ3RETixzQkFBc0IsV0FDckJGLEVBQVlwRixNQUFNeUYsT0FBUyxHQUM1QixDQUFDLEdBRUtGLEVBQWVILEVBQ25CUyxRQUFRLDJCQUEyQixFQUNuQzlELGNBQWMsK0JBQStCLEdBQ2xDdkMsVUFBVTJDLE9BQU8sUUFBUSxFQUN0Q29ELEVBQWFqQixhQUFhLGdCQUFpQixPQUFPLEVBRXBELENBQUMsRUFFRWtCLEdBQ0hFLEVBQU9wQixhQUFhLGNBQWUsTUFBTSxFQUN6Q3FCLEVBQVFyQixhQUFhLGdCQUFpQixPQUFPLEVBQzdDcUIsRUFBUW5HLFVBQVUyQyxPQUFPLFFBQVEsRUFDakN1RCxFQUFPMUYsTUFBTXlGLE9BQVNDLEVBQU9FLGFBQWUsS0FDNUNOLHNCQUFzQixXQUNyQkksRUFBTzFGLE1BQU15RixPQUFTLEdBQ3ZCLENBQUMsSUFFREMsRUFBT3BCLGFBQWEsY0FBZSxPQUFPLEVBQzFDcUIsRUFBUXJCLGFBQWEsZ0JBQWlCLE1BQU0sRUFDNUNxQixFQUFRbkcsVUFBVUUsSUFBSSxRQUFRLEVBQzlCZ0csRUFBTzFGLE1BQU15RixPQUFTQyxFQUFPRSxhQUFlLEtBRTlDLENBQUMsQ0FDRixDQUFDLENBQ0YsQ0FBQyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGhhbmRsZUZvb3RlclllYXIgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBjdXJyZW50WWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX195ZWFyXCIpLnRleHRDb250ZW50ID0gY3VycmVudFllYXI7XHJcblx0fTtcclxuXHRoYW5kbGVGb290ZXJZZWFyKCk7XHJcblxyXG5cdC8vIFNFQ1RpT04gQU5JTUFUSU9OU1xyXG5cdGNvbnN0IHNlY3Rpb25PcHRpb25zID0ge1xyXG5cdFx0cm9vdE1hcmdpbjogXCItMjAwcHhcIixcclxuXHR9O1xyXG5cclxuXHRjb25zdCB0b0FuaW1hdGVTZWN0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tYW5pbWF0ZVwiKTtcclxuXHRpZiAod2luZG93LmlubmVyV2lkdGggPj0gOTAwKSB7XHJcblx0XHRjb25zdCBzZWN0aW9uT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XHJcblx0XHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuXHRcdFx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcclxuXHRcdFx0XHRcdGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwiYW5pbWF0ZWRcIik7XHJcblx0XHRcdFx0XHRvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0fSwgc2VjdGlvbk9wdGlvbnMpO1xyXG5cclxuXHRcdHRvQW5pbWF0ZVNlY3Rpb25zLmZvckVhY2goKHNlY3Rpb24pID0+IHtcclxuXHRcdFx0c2VjdGlvbk9ic2VydmVyLm9ic2VydmUoc2VjdGlvbik7XHJcblx0XHR9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dG9BbmltYXRlU2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT5cclxuXHRcdFx0c2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwidG8tYW5pbWF0ZVwiKVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8vIEhBTkRMRSBCQUNLIFRPIFRPUFxyXG5cclxuXHRjb25zdCBiYWNrVG9Ub3BBcnJvd0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmFjay10by10b3BcIik7XHJcblxyXG5cdGNvbnN0IGhhbmRsZUJhY2tUb1RvcCA9ICgpID0+IHtcclxuXHRcdGNvbnN0IHdpbmRvd0hlaWdodCA9IDUwMDtcclxuXHRcdGlmICh3aW5kb3cuc2Nyb2xsWSA+PSB3aW5kb3dIZWlnaHQpIHtcclxuXHRcdFx0YmFja1RvVG9wQXJyb3dCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdFx0YmFja1RvVG9wQXJyb3dCdG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHRcdH0gZWxzZSBpZiAoXHJcblx0XHRcdHdpbmRvdy5zY3JvbGxZIDwgd2luZG93SGVpZ2h0ICYmXHJcblx0XHRcdGJhY2tUb1RvcEFycm93QnRuLmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZVwiKVxyXG5cdFx0KSB7XHJcblx0XHRcdGJhY2tUb1RvcEFycm93QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblx0XHRcdGJhY2tUb1RvcEFycm93QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlQmFja1RvVG9wKTtcclxuXHRiYWNrVG9Ub3BBcnJvd0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdFx0d2luZG93LnNjcm9sbFRvKHsgdG9wOiAwIH0pO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBBRERJTkcgU1ZHIElDT05TIFRPIE5BViBTRUNUSU9OXHJcblx0Y29uc3QgYWlyQ29uZGl0aW9uaW5nSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcdFwiLm5hdl9fbGluay1pbWctY29uZGl0aW9uaW5nXCJcclxuXHQpO1xyXG5cdGNvbnN0IHJlY3VwZXJhdGlvbkltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saW5rLWltZy1yZWN1cGVyYXRpb25cIik7XHJcblx0Y29uc3Qgd29ka2FuSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpbmstaW1nLXdvZGthblwiKTtcclxuXHRmZXRjaChcIi4vaW1hZ2VzL3N2Zy9mYW4taWNvbi5zdmdcIilcclxuXHRcdC50aGVuKChyZXMpID0+IHJlcy50ZXh0KCkpXHJcblx0XHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRhaXJDb25kaXRpb25pbmdJbWcuaW5uZXJIVE1MID0gZGF0YTtcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHRmZXRjaChcIi4vaW1hZ2VzL3N2Zy9yZWN1cGVyYXRpb24taWNvbi5zdmdcIilcclxuXHRcdC50aGVuKChyZXMpID0+IHJlcy50ZXh0KCkpXHJcblx0XHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRyZWN1cGVyYXRpb25JbWcuaW5uZXJIVE1MID0gZGF0YTtcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goKGVycikgPT4gY29uc29sZS5lcnJvcihlcnIpKTtcclxuXHRmZXRjaChcIi4vaW1hZ2VzL3N2Zy93b2Qta2FuLWljb24uc3ZnXCIpXHJcblx0XHQudGhlbigocmVzKSA9PiByZXMudGV4dCgpKVxyXG5cdFx0LnRoZW4oKGRhdGEpID0+IHtcclxuXHRcdFx0d29ka2FuSW1nLmlubmVySFRNTCA9IGRhdGE7XHJcblx0XHR9KVxyXG5cdFx0LmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XHJcblxyXG5cdC8vIEFERElORyBTVkcgSUNPTlMgVE8gTkFWIFNFQ1RJT05cclxuXHJcblx0Y29uc3QgY291bnRlckl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5jb3VudGVyX19zdGF0cy1zdGF0XCIpO1xyXG5cdGNvbnN0IGNvdW50ZXJCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvdW50ZXJcIik7XHJcblxyXG5cdGNvbnN0IG9wdGlvbnMgPSB7XHJcblx0XHRyb290TWFyZ2luOiBcIi0yNTBweFwiLFxyXG5cdH07XHJcblx0Y29uc3Qgc3RhcnRDb3VudGVyID0gKGVudHJ5KSA9PiB7XHJcblx0XHRpZiAoZW50cnlbMF0uaXNJbnRlcnNlY3RpbmcpIHtcclxuXHRcdFx0Y291bnRlckl0ZW1zLmZvckVhY2goKGNvdW50ZXIpID0+IHtcclxuXHRcdFx0XHRjb25zdCB1cGRhdGVDb3VudGVyID0gKCkgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc3QgZmluYWxOdW1iZXIgPSBjb3VudGVyLmdldEF0dHJpYnV0ZShcImRhdGEtbnVtYmVyXCIpO1xyXG5cdFx0XHRcdFx0Y29uc3QgdmFsdWUgPSBwYXJzZUludChjb3VudGVyLnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRcdGNvdW50ZXIuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3Qgc3BlZWQgPSAyO1xyXG5cclxuXHRcdFx0XHRcdGlmICh2YWx1ZSA8IGZpbmFsTnVtYmVyKSB7XHJcblx0XHRcdFx0XHRcdGNvdW50ZXIudGV4dENvbnRlbnQgPSBgJHtNYXRoLmZsb29yKHZhbHVlICsgc3BlZWQpfWA7XHJcblx0XHRcdFx0XHRcdHNldFRpbWVvdXQodXBkYXRlQ291bnRlciwgNSk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRjb3VudGVyLnRleHRDb250ZW50ID0gZmluYWxOdW1iZXI7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHR1cGRhdGVDb3VudGVyKCk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKHN0YXJ0Q291bnRlciwgb3B0aW9ucyk7XHJcblx0b2JzZXJ2ZXIub2JzZXJ2ZShjb3VudGVyQm94KTtcclxuXHJcblx0Ly8gR0FMTEVSWVxyXG5cdGNvbnN0IGltYWdlc0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9faW1hZ2VzXCIpO1xyXG5cdGNvbnN0IGFsbEltYWdlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FsbGVyeV9faW1nXCIpO1xyXG5cdGNvbnN0IG5leHRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2J0bi0tbmV4dFwiKTtcclxuXHRjb25zdCBwcmV2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19idG4tLXByZXZcIik7XHJcblx0Y29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX3BvcHVwXCIpO1xyXG5cdGNvbnN0IHBvcHVwSW1nID0gcG9wdXAucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19wb3B1cC1pbWdcIik7XHJcblx0Y29uc3QgY2xvc2VQb3B1cEJ0biA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2xvc2UtcG9wdXBcIik7XHJcblx0bGV0IGluZGV4ID0gMTtcclxuXHRsZXQgc3RlcDtcclxuXHRsZXQgd2lkdGg7XHJcblxyXG5cdGNvbnN0IHNob3dOZXh0U2xpZGUgPSAoKSA9PiB7XHJcblx0XHRpZiAoaW5kZXggPT09IGFsbEltYWdlcy5sZW5ndGggLSAyKSB7XHJcblx0XHRcdHNob3dOZXh0SW1nKCk7XHJcblx0XHRcdG5leHRCdG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cdFx0XHRuZXh0QnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHByZXZCdG4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcblx0XHRcdHByZXZCdG4uY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG5cdFx0XHRuZXh0QnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNhYmxlZFwiKTtcclxuXHRcdFx0bmV4dEJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuXHRcdFx0c2hvd05leHRJbWcoKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGNvbnN0IHR1cm5PbkRpc2FibGVkID0gKCkgPT4ge1xyXG5cdFx0aWYgKHdpbmRvdy5pbm5lcldpZHRoIDw9IDkwMCkge1xyXG5cdFx0XHRwcmV2QnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHRcdFx0cHJldkJ0bi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XHJcblx0XHR9XHJcblx0fTtcclxuXHRjb25zdCBzaG93UHJldlNsaWRlID0gKCkgPT4ge1xyXG5cdFx0aWYgKGluZGV4ID09PSAxICYmIHdpbmRvdy5pbm5lcldpZHRoID49IDkwMCkge1xyXG5cdFx0XHRzaG93UHJldkltZygpO1xyXG5cdFx0XHRwcmV2QnRuLmNsYXNzTGlzdC5hZGQoXCJkaXNhYmxlZFwiKTtcclxuXHRcdFx0cHJldkJ0bi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XHJcblx0XHR9IGVsc2UgaWYgKGluZGV4ID09PSAyICYmIHdpbmRvdy5pbm5lcldpZHRoIDwgOTAwKSB7XHJcblx0XHRcdHNob3dQcmV2SW1nKCk7XHJcblx0XHRcdHByZXZCdG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpO1xyXG5cdFx0XHRwcmV2QnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5leHRCdG4uY2xhc3NMaXN0LnJlbW92ZShcImRpc2FibGVkXCIpO1xyXG5cdFx0XHRuZXh0QnRuLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG5cdFx0XHRzaG93UHJldkltZygpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Y29uc3Qgc2hvd1ByZXZJbWcgPSAoKSA9PiB7XHJcblx0XHRhbGxJbWFnZXNbaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblx0XHRpbmRleC0tO1xyXG5cdFx0YWxsSW1hZ2VzW2luZGV4XS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cdFx0c3RlcCA9IHdpbmRvdy5pbm5lcldpZHRoID49IDkwMCA/IDMzLjMzIDogMTAwO1xyXG5cdFx0d2lkdGggPSAoaW5kZXggLSAxKSAqIHN0ZXA7XHJcblx0XHRpbWFnZXNCb3guc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstd2lkdGh9JSlgO1xyXG5cdH07XHJcblx0Y29uc3Qgc2hvd05leHRJbWcgPSAoKSA9PiB7XHJcblx0XHRhbGxJbWFnZXNbaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcblx0XHRpbmRleCsrO1xyXG5cclxuXHRcdGFsbEltYWdlc1tpbmRleF0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHRcdHN0ZXAgPSB3aW5kb3cuaW5uZXJXaWR0aCA+PSA5MDAgPyAzMy4zMyA6IDEwMDtcclxuXHRcdHdpZHRoID0gKGluZGV4IC0gMSkgKiBzdGVwO1xyXG5cdFx0aW1hZ2VzQm94LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7LXdpZHRofSUpYDtcclxuXHR9O1xyXG5cclxuXHRjb25zdCBzaG93UG9wdXAgPSAoKSA9PiB7XHJcblx0XHRwb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xyXG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwicG9wdXAtYWN0aXZlXCIpO1xyXG5cdH07XHJcblx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xyXG5cdFx0c3RlcCA9IHdpbmRvdy5pbm5lcldpZHRoID49IDkwMCA/IDMzLjMzIDogMTAwO1xyXG5cdFx0d2lkdGggPSAoaW5kZXggLSAxKSAqIHN0ZXA7XHJcblx0XHRpbWFnZXNCb3guc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstd2lkdGh9JSlgO1xyXG5cdH0pO1xyXG5cdHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUudGFyZ2V0ID09PSBwb3B1cCkge1xyXG5cdFx0XHRzaG93UG9wdXAoKTtcclxuXHRcdH1cclxuXHR9KTtcclxuXHRhbGxJbWFnZXMuZm9yRWFjaCgoaW1nKSA9PlxyXG5cdFx0aW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0XHRcdGNvbnN0IHNyYyA9IGltZy5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XHJcblx0XHRcdGNvbnN0IGFsdCA9IGltZy5nZXRBdHRyaWJ1dGUoXCJhbHRcIik7XHJcblx0XHRcdHBvcHVwSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBzcmMpO1xyXG5cdFx0XHRwb3B1cEltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgYWx0KTtcclxuXHRcdFx0c2hvd1BvcHVwKCk7XHJcblx0XHR9KVxyXG5cdCk7XHJcblx0Y2xvc2VQb3B1cEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc2hvd1BvcHVwKTtcclxuXHR0dXJuT25EaXNhYmxlZCgpO1xyXG5cdHByZXZCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dQcmV2U2xpZGUpO1xyXG5cdG5leHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHNob3dOZXh0U2xpZGUpO1xyXG5cclxuXHQvLyBSRVZJRVdTXHJcblxyXG5cdGNvbnN0IHJldmlld3NCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJldmlld3NfX3Jldmlld3NcIik7XHJcblx0Y29uc3QgYWxsUmV2aWV3cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmV2aWV3c19fYm94XCIpO1xyXG5cdGxldCByZXZpZXdzU3BlZWQgPSA0MDAwO1xyXG5cdGxldCByZXZpZXdzSW5kZXggPSAwO1xyXG5cdGxldCBzdGFydFg7XHJcblx0bGV0IGVuZFg7XHJcblx0bGV0IHJldmlld3NDYXJvdXNlbGxJbnRlcnZhbDtcclxuXHJcblx0Y29uc3QgaGFuZGxlUmV2aWV3c0Nhcm91c2VsbCA9ICgpID0+IHtcclxuXHRcdGxldCBzdGVwID0gd2luZG93LmlubmVyV2lkdGggPj0gODAwID8gNTAgOiAxMDA7XHJcblx0XHRsZXQgZGV2aWNlSW5kZXggPVxyXG5cdFx0XHR3aW5kb3cuaW5uZXJXaWR0aCA+PSA4MDAgPyBhbGxSZXZpZXdzLmxlbmd0aCAtIDIgOiBhbGxSZXZpZXdzLmxlbmd0aCAtIDE7XHJcblxyXG5cdFx0aWYgKHJldmlld3NJbmRleCA+PSBkZXZpY2VJbmRleCkge1xyXG5cdFx0XHRyZXZpZXdzSW5kZXggPSAwO1xyXG5cdFx0XHRyZXZpZXdzQm94LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKDApYDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldmlld3NJbmRleCsrO1xyXG5cdFx0XHRsZXQgd2lkdGggPSByZXZpZXdzSW5kZXggKiBzdGVwO1xyXG5cdFx0XHRyZXZpZXdzQm94LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7LXdpZHRofSUpYDtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XHJcblx0XHRsZXQgc3RlcCA9IHdpbmRvdy5pbm5lcldpZHRoID49IDgwMCA/IDUwIDogMTAwO1xyXG5cdFx0bGV0IHdpZHRoID0gcmV2aWV3c0luZGV4ICogc3RlcDtcclxuXHRcdHJldmlld3NCb3guc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHstd2lkdGh9JSlgO1xyXG5cdH0pO1xyXG5cclxuXHRyZXZpZXdzQ2Fyb3VzZWxsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChoYW5kbGVSZXZpZXdzQ2Fyb3VzZWxsLCByZXZpZXdzU3BlZWQpO1xyXG5cclxuXHRyZXZpZXdzQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIChlKSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzdGFydFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcclxuXHRcdGNsZWFySW50ZXJ2YWwocmV2aWV3c0Nhcm91c2VsbEludGVydmFsKTtcclxuXHR9KTtcclxuXHRyZXZpZXdzQm94LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAoZSkgPT4ge1xyXG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0ZW5kWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WDtcclxuXHRcdGhhbmRsZVN3aXBlKCk7XHJcblx0XHRyZXZpZXdzQ2Fyb3VzZWxsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChcclxuXHRcdFx0aGFuZGxlUmV2aWV3c0Nhcm91c2VsbCxcclxuXHRcdFx0cmV2aWV3c1NwZWVkXHJcblx0XHQpO1xyXG5cdH0pO1xyXG5cclxuXHRjb25zdCBoYW5kbGVTd2lwZSA9ICgpID0+IHtcclxuXHRcdGNvbnN0IHRocmVzaG9sZCA9IDUwO1xyXG5cdFx0Y29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aCA+PSA4MDAgPyA1MCA6IDEwMDtcclxuXHRcdGNvbnN0IG1heEluZGV4ID1cclxuXHRcdFx0d2luZG93LmlubmVyV2lkdGggPj0gODAwID8gYWxsUmV2aWV3cy5sZW5ndGggLSAyIDogYWxsUmV2aWV3cy5sZW5ndGggLSAxO1xyXG5cclxuXHRcdGlmIChzdGFydFggLSBlbmRYID4gdGhyZXNob2xkICYmIHJldmlld3NJbmRleCA8IG1heEluZGV4KSB7XHJcblx0XHRcdHJldmlld3NJbmRleCsrO1xyXG5cdFx0fSBlbHNlIGlmIChlbmRYIC0gc3RhcnRYID4gdGhyZXNob2xkICYmIHJldmlld3NJbmRleCA+IDApIHtcclxuXHRcdFx0cmV2aWV3c0luZGV4LS07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV2aWV3c0JveC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgkey13aWR0aCAqIHJldmlld3NJbmRleH0lKWA7XHJcblx0fTtcclxuXHJcblx0Ly8gQUNDT1JESU9OXHJcblx0Y29uc3QgYWxsQWNjb3JkaW9uQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXHJcblx0XHRcIi5xdWVzdGlvbnNfX2FjY29yZGlvbi10b2dnbGVyXCJcclxuXHQpO1xyXG5cclxuXHRhbGxBY2NvcmRpb25CdG5zLmZvckVhY2goKHRvZ2dsZXIpID0+IHtcclxuXHRcdHRvZ2dsZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRcdFx0Y29uc3QgYm94ID0gdG9nZ2xlci5jbG9zZXN0KFwiLnF1ZXN0aW9uc19fYWNjb3JkaW9uLWJveFwiKTtcclxuXHRcdFx0Y29uc3QgYW5zd2VyID0gYm94LnF1ZXJ5U2VsZWN0b3IoXCIucXVlc3Rpb25zX19hY2NvcmRpb24tYW5zd2VyXCIpO1xyXG5cclxuXHRcdFx0Y29uc3QgaXNPcGVuID0gYW5zd2VyLnN0eWxlLmhlaWdodCAmJiBhbnN3ZXIuc3R5bGUuaGVpZ2h0ICE9PSBcIjBweFwiO1xyXG5cdFx0XHRkb2N1bWVudFxyXG5cdFx0XHRcdC5xdWVyeVNlbGVjdG9yQWxsKFwiLnF1ZXN0aW9uc19fYWNjb3JkaW9uLWFuc3dlclwiKVxyXG5cdFx0XHRcdC5mb3JFYWNoKChvdGhlckFuc3dlcikgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKG90aGVyQW5zd2VyICE9PSBhbnN3ZXIpIHtcclxuXHRcdFx0XHRcdFx0b3RoZXJBbnN3ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG5cdFx0XHRcdFx0XHRvdGhlckFuc3dlci5zdHlsZS5oZWlnaHQgPSBvdGhlckFuc3dlci5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcblx0XHRcdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcblx0XHRcdFx0XHRcdFx0b3RoZXJBbnN3ZXIuc3R5bGUuaGVpZ2h0ID0gXCIwXCI7XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHRcdFx0Y29uc3Qgb3RoZXJUb2dnbGVyID0gb3RoZXJBbnN3ZXJcclxuXHRcdFx0XHRcdFx0XHQuY2xvc2VzdChcIi5xdWVzdGlvbnNfX2FjY29yZGlvbi1ib3hcIilcclxuXHRcdFx0XHRcdFx0XHQucXVlcnlTZWxlY3RvcihcIi5xdWVzdGlvbnNfX2FjY29yZGlvbi10b2dnbGVyXCIpO1xyXG5cdFx0XHRcdFx0XHRvdGhlclRvZ2dsZXIuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5lZFwiKTtcclxuXHRcdFx0XHRcdFx0b3RoZXJUb2dnbGVyLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJmYWxzZVwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdGlmIChpc09wZW4pIHtcclxuXHRcdFx0XHRhbnN3ZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG5cdFx0XHRcdHRvZ2dsZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xyXG5cdFx0XHRcdHRvZ2dsZXIuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW5lZFwiKTtcclxuXHRcdFx0XHRhbnN3ZXIuc3R5bGUuaGVpZ2h0ID0gYW5zd2VyLnNjcm9sbEhlaWdodCArIFwicHhcIjtcclxuXHRcdFx0XHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xyXG5cdFx0XHRcdFx0YW5zd2VyLnN0eWxlLmhlaWdodCA9IFwiMFwiO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGFuc3dlci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xyXG5cdFx0XHRcdHRvZ2dsZXIuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XHJcblx0XHRcdFx0dG9nZ2xlci5jbGFzc0xpc3QuYWRkKFwib3BlbmVkXCIpO1xyXG5cdFx0XHRcdGFuc3dlci5zdHlsZS5oZWlnaHQgPSBhbnN3ZXIuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9KTtcclxufSk7XHJcbiJdfQ==
