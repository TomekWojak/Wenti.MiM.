document.addEventListener("DOMContentLoaded",function(){function n(e,t){var o=(e=e.parentElement).querySelector(".contact-form-box-error");e.classList.add("error"),o.textContent=t}function r(e){var t=(e=e.parentElement).querySelector(".contact-form-box-error");e.classList.remove("error"),t.textContent=""}var e=document.querySelectorAll(".input, .contact-form-textarea"),t=document.querySelectorAll(".options-label"),a=document.querySelector(".agreement-input"),c=document.querySelector(".agreements"),o=(t.forEach(function(t){t.addEventListener("keydown",function(e){"Enter"===e.key&&(e=t.getAttribute("for"))&&(e=document.getElementById(e))&&!e.checked&&(e.checked=!0)})}),a.addEventListener("keydown",function(e){"Enter"===e.key&&(a.checked=!a.checked)}),e.forEach(function(e){""!==e.value.trim()&&e.classList.add("not-empty"),e.addEventListener("input",function(e){e=e.target;""!==e.value.trim()?e.classList.add("not-empty"):e.classList.remove("not-empty")})}),document.querySelector(".msg-status")),t=document.querySelector(".msg-status__info"),u=document.querySelector(".name-input"),s=document.querySelector(".phone-input"),i=document.querySelector(".email-input"),l=document.querySelector(".area-input"),m=document.querySelector(".tiers-input"),e=document.querySelector(".contact-form-btn"),d=[u,s,i,l,m],p=("sent"===new URLSearchParams(window.location.search).get("mail_status")&&(o.classList.add("success"),t.textContent="Wiadomość wysłana!",setTimeout(function(){o.classList.remove("success"),history.replaceState(null,"",window.location.pathname)},3e3)),!1);e.addEventListener("click",function(e){var t,o;e.preventDefault(),d.forEach(function(e){""===e.value?n(e,"To pole nie może być puste!"):r(e)}),e=2,""!==(o=u).value&&o.value.length<e?(t=o.nextElementSibling.textContent,o.classList.contains("name-input")&&n(o,"".concat(t," musi składać się z min. ").concat(e," znaków"))):/^[A-Za-zĄĆĘŁŃÓŚŹŻąćęłńóśźż\- ]+$/.test(o.value)?r(o):""===o.value?n(o,"To pole nie może być puste!"):n(o,"Podano niepoprawną wartość!"),(t=s).classList.contains("phone-input")&&9!==t.value.length&&""!==t.value&&n(t,"Numer telefonu musi składać się z ".concat(9," cyfr")),/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test((e=i).value)?r(e):""===e.value?n(e,"To pole nie może być puste!"):n(e,"Podano niepoprawny email!"),/^(?!0+(?:[.,]0+)?$)\d+(?:[.,]\d+)?$/.test((o=l).value)?r(o):""===o.value?n(o,"To pole nie może być puste!"):n(o,"Podano niepoprawną wartość!"),/^(?:[1-9]|[1-4][0-9]|50)$/.test((e=m).value)?r(e):""===e.value?n(e,"To pole nie może być puste!"):n(e,"Podano niepoprawną wartość!"),""===(o=s).value||/^\d+$/.test(o.value)||n(o,"Podano niepoprawny numer telefonu!"),document.querySelectorAll(".contact-form-question-box").forEach(function(e){var t=e.querySelectorAll('input[type="radio"]'),t=Array.from(t).some(function(e){return e.checked}),o=e.querySelector(".contact-form-box-question-error");t?(o.textContent="",e.classList.remove("error")):(o.textContent="Proszę zaznaczyć jedną z opcji.",e.classList.add("error"))}),!1===a.checked?c.classList.add("error"):c.classList.remove("error"),e=document.querySelectorAll(".form-box"),e=Array.from(e).some(function(e){return e.classList.contains("error")}),p||e||(p=!0,document.querySelector(".contact-form").submit())})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3QuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidGV4dENvbnRlbnQiLCJlcnJvck1zZyIsIm1zZyIsImNsZWFyRXJyb3IiLCJmb3JtQm94IiwiaW5wdXQiLCJwYXJlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImVsIiwicmVtb3ZlIiwic2hvd0Vycm9yIiwiaW5wdXRzIiwicXVlcnlTZWxlY3RvckFsbCIsIm9wdGlvbnNMYWJlbHMiLCJtc2dTdGF0dXNUZXh0IiwiYWdyZWVtZW50c0JveCIsImxhYmVsIiwia2V5IiwiZSIsImdldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRCeUlkIiwiZm9ySWQiLCJjaGVja2VkIiwiYWdyZWVtZW50SW5wdXQiLCJ2YWx1ZSIsImNsYXNzTGlzdCIsImFkZCIsInRhcmdldCIsImVsZW1lbnQiLCJpbnB1dE5hbWUiLCJpbnB1dFBob25lIiwiaW5wdXRFbWFpbCIsImlucHV0QXJlYSIsImlucHV0VGllcnMiLCJzZW5kQnRuIiwidGV4dElucHV0cyIsIk1BWF9MRU5HVEgiLCJzZW5kaW5nIiwiVVJMU2VhcmNoUGFyYW1zIiwid2luZG93IiwibG9jYXRpb24iLCJzZWFyY2giLCJtc2dTdGF0dXMiLCJzZXRUaW1lb3V0IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInBhdGhuYW1lIiwiY2hlY2tQaG9uZUZvcm1hdCIsInByZXZlbnREZWZhdWx0IiwiZm9yRWFjaCIsImNoZWNrTGVuZ3RoIiwibWluIiwibmFtZVJlZ2V4IiwibGVuZ3RoIiwiaW5wdXRMYWJlbCIsIm5leHRFbGVtZW50U2libGluZyIsImNvbnRhaW5zIiwiY29uY2F0IiwidGVzdCIsImNoZWNrUGhvbmVMZW5ndGgiLCJjaGVja0FyZWFJbnB1dCIsImFyZWEiLCJjaGVja1RpZXJzSW5wdXQiLCJ0aWVyUmVnZXgiLCJxdWVzdGlvbkJveCIsImVtYWlsIiwiY2hlY2tNYWlsIiwiZW1haWxSZWdleCIsInRpZXIiLCJjaGVja0lmQ2hlY2tlZCIsImFsbFF1ZXN0aW9uQm94ZXMiLCJpc0NoZWNrZWQiLCJzb21lIiwiY2hlY2tFcnJvcnMiLCJhbGxJbnB1dHMiLCJoYXNFcnJvciIsIkFycmF5IiwiZnJvbSIsInN1Ym1pdCJdLCJtYXBwaW5ncyI6IkFBQUFBLFNBQVNDLGlCQUFpQixtQkFBb0IsV0F5RW5DQyxTQUFUQyxFQUFTRCxFQUFjRSxHQUN4QixJQUVNQyxHQUFhQyxFQUZsQkMsRUFBQUMsZUFFa0JDLGNBQUNGLHlCQUFVLEVBSjdCRCxFQUtNQSxVQUFVQyxJQUFNQyxPQUFBQSxFQUp0QkwsRUFLTUEsWUFBV0csQ0FKbEIsQ0FPQyxTQUFBRCxFQUFBRSxHQUVELElBQ0NBLEdBQWNELEVBREdDLEVBQUFDLGVBQ0hDLGNBQVEseUJBQUEsRUFMdEJILEVBTUtJLFVBQVFDLE9BQVMsT0FBQSxFQUx0QlIsRUFNRVMsWUFBYyxFQUxqQixDQWhGQSxJQUFNQyxFQUFTYixTQUFTYyxpQkFBaUIsZ0NBQWdDLEVBRDFFZCxFQUFTQyxTQUFpQmEsaUJBQW9CLGdCQUFZLEVBQ25ERCxFQUFrQkMsU0FBQUEsY0FBaUIsa0JBQUEsRUFDbkNDLEVBQWdCZixTQUFTYyxjQUFBQSxhQUFpQixFQXdDMUNFLEdBcENORCxFQUZNRSxRQUFnQmpCLFNBQUFBLEdBRXRCZSxFQUFBQSxpQkFBc0IsVUFBQ0csU0FBQUEsR0FDaEJqQixVQUFOaUIsRUFBS0MsTUFDQUMsRUFBS0YsRUFBS0csYUFBUyxLQUFBLEtBRXRCZCxFQUFXUCxTQUFBc0IsZUFBQUMsQ0FBQSxJQUNKaEIsQ0FBS0EsRUFBR1AsVUFFYk8sRUFERGlCLFFBQVMsQ0FBQSxFQUtaLENBQUMsQ0FDRixDQUFDLEVBRURDLEVBQWN4QixpQkFBaUIsVUFBVSxTQUFFbUIsR0FDakMsVUFBVEEsRUFBSUEsTUFDSEssRUFBQUEsUUFBc0IsQ0FBQUEsRUFBSUEsUUFFNUIsQ0FBQSxFQUVBWixFQUNLTixRQUFNbUIsU0FBQUEsR0FDVyxLQUFwQm5CLEVBQU1vQixNQUFBQSxLQUFVQyxHQUFoQnJCLEVB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LEVBQUFtQixLQUFBLEdBRURkLEVBQU1BLEVBQVksb0NBQWdCLEVBZ0gxQlosU0FBQWMsaUJBdkJOLDRCQUNELEVBMkJhcUMsUUFBSyxTQUFBZSxHQUNuQixJQUFNUyxFQUFjVCxFQUFkUyxpQkFBb0IscUJBQUEsRUFDbkJDLEVBQVk1RSxNQUFBQSxLQUFTYyxDQUFBQSxFQUFnQjRELEtBQUMsU0FBQW5FLEdBQUEsT0FBWUEsRUFBQWlCLE9BQUEsQ0FBQSxFQUNsRHFELEVBQVdDLEVBQVdGLGNBeEIxQixrQ0FDRCxFQTZCR0gsR0FJSnRFLEVBQUFELFlBQUEsR0FFRGtDLEVBQVFuQyxVQUFnQlUsT0FBQyxPQUFTLElBaEMvQlIsRUEyQk1ELFlBQU8sa0NBMUJiZ0UsRUEyQlF6RCxVQUFBQSxJQUFjLE9BQUEsRUF0QnhCLENBQUMsRUFpQ3dCLENBQUEsSUFBekJxRCxFQUFlNUIsUUE1QmRqQixFQTZCRCtDLFVBQWdCN0IsSUFBVyxPQUFBLEVBM0IxQmxCLEVBNkJEc0QsVUFBZ0I1RCxPQUFBLE9BQUEsRUF2QlZpRSxFQUFZNUUsU0FBU2MsaUJBQWlCLFdBQVcsRUFDakQrRCxFQUFXQyxNQUFNQyxLQUFLSCxDQUFTLEVBQUVGLEtBQUssU0FBQ2hFLEdBQUUsT0FDOUNBLEVBQUdpQixVQUFVK0IsU0FBUyxPQUFPLENBQUMsQ0FDL0IsRUFFSW5CLEdBRUNzQyxJQUNKdEMsRUFBVSxDQUFBLEVBQ1Z2QyxTQUFTUyxjQUFjLGVBQWUsRUFBRXVFLE9BQU8sRUFpQmpELENBQUMsQ0FDRixDQUFDIiwiZmlsZSI6ImNvbnRhY3QubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xyXG5cdGNvbnN0IGlucHV0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaW5wdXQsIC5jb250YWN0LWZvcm0tdGV4dGFyZWFcIik7XHJcblx0Y29uc3Qgb3B0aW9uc0xhYmVscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3B0aW9ucy1sYWJlbFwiKTtcclxuXHRjb25zdCBhZ3JlZW1lbnRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWdyZWVtZW50LWlucHV0XCIpO1xyXG5cdGNvbnN0IGFncmVlbWVudHNCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFncmVlbWVudHNcIik7XHJcblxyXG5cdG9wdGlvbnNMYWJlbHMuZm9yRWFjaCgobGFiZWwpID0+IHtcclxuXHRcdGxhYmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB7XHJcblx0XHRcdGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcblx0XHRcdFx0Y29uc3QgZm9ySWQgPSBsYWJlbC5nZXRBdHRyaWJ1dGUoXCJmb3JcIik7XHJcblx0XHRcdFx0aWYgKGZvcklkKSB7XHJcblx0XHRcdFx0XHRjb25zdCBpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvcklkKTtcclxuXHRcdFx0XHRcdGlmIChpbnB1dCAmJiAhaW5wdXQuY2hlY2tlZCkge1xyXG5cdFx0XHRcdFx0XHRpbnB1dC5jaGVja2VkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHRhZ3JlZW1lbnRJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xyXG5cdFx0aWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcclxuXHRcdFx0YWdyZWVtZW50SW5wdXQuY2hlY2tlZCA9ICFhZ3JlZW1lbnRJbnB1dC5jaGVja2VkO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG5cclxuXHRpbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuXHRcdGlmIChpbnB1dC52YWx1ZS50cmltKCkgIT09IFwiXCIpIHtcclxuXHRcdFx0aW5wdXQuY2xhc3NMaXN0LmFkZChcIm5vdC1lbXB0eVwiKTtcclxuXHRcdH1cclxuXHRcdGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRjb25zdCBlbGVtZW50ID0gZS50YXJnZXQ7XHJcblx0XHRcdGlmIChlbGVtZW50LnZhbHVlLnRyaW0oKSAhPT0gXCJcIikge1xyXG5cdFx0XHRcdGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm5vdC1lbXB0eVwiKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJub3QtZW1wdHlcIik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBIQU5ETEUgRk9STVxyXG5cdGNvbnN0IG1zZ1N0YXR1cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubXNnLXN0YXR1c1wiKTtcclxuXHRjb25zdCBtc2dTdGF0dXNUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tc2ctc3RhdHVzX19pbmZvXCIpO1xyXG5cdGNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmFtZS1pbnB1dFwiKTtcclxuXHRjb25zdCBpbnB1dFBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5waG9uZS1pbnB1dFwiKTtcclxuXHRjb25zdCBpbnB1dEVtYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbWFpbC1pbnB1dFwiKTtcclxuXHRjb25zdCBpbnB1dEFyZWEgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFyZWEtaW5wdXRcIik7XHJcblx0Y29uc3QgaW5wdXRUaWVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGllcnMtaW5wdXRcIik7XHJcblx0Y29uc3Qgc2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdC1mb3JtLWJ0blwiKTtcclxuXHRjb25zdCB0ZXh0SW5wdXRzID0gW2lucHV0TmFtZSwgaW5wdXRQaG9uZSwgaW5wdXRFbWFpbCwgaW5wdXRBcmVhLCBpbnB1dFRpZXJzXTtcclxuXHRjb25zdCBNQVhfTEVOR1RIID0gOTtcclxuXHJcblx0Y29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcclxuXHRpZiAodXJsUGFyYW1zLmdldChcIm1haWxfc3RhdHVzXCIpID09PSBcInNlbnRcIikge1xyXG5cdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5hZGQoXCJzdWNjZXNzXCIpO1xyXG5cdFx0bXNnU3RhdHVzVGV4dC50ZXh0Q29udGVudCA9IFwiV2lhZG9tb8WbxIcgd3lzxYJhbmEhXCI7XHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bXNnU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXCJzdWNjZXNzXCIpO1xyXG5cdFx0XHRoaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpO1xyXG5cdFx0fSwgMzAwMCk7XHJcblx0fVxyXG5cclxuXHRjb25zdCBjaGVja1Bob25lRm9ybWF0ID0gKGlucHV0KSA9PiB7XHJcblx0XHRjb25zdCBvbmx5RGlnaXRzID0gL15cXGQrJC87XHJcblx0XHRpZiAoaW5wdXQudmFsdWUgIT09IFwiXCIgJiYgIW9ubHlEaWdpdHMudGVzdChpbnB1dC52YWx1ZSkpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0LCBcIlBvZGFubyBuaWVwb3ByYXdueSBudW1lciB0ZWxlZm9udSFcIik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3Qgc2hvd0Vycm9yID0gKGlucHV0LCBtc2cpID0+IHtcclxuXHRcdGNvbnN0IGZvcm1Cb3ggPSBpbnB1dC5wYXJlbnRFbGVtZW50O1xyXG5cdFx0Y29uc3QgZXJyb3JNc2cgPSBmb3JtQm94LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGFjdC1mb3JtLWJveC1lcnJvclwiKTtcclxuXHRcdGZvcm1Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG5cdFx0ZXJyb3JNc2cudGV4dENvbnRlbnQgPSBtc2c7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgY2xlYXJFcnJvciA9IChpbnB1dCkgPT4ge1xyXG5cdFx0Y29uc3QgZm9ybUJveCA9IGlucHV0LnBhcmVudEVsZW1lbnQ7XHJcblx0XHRjb25zdCBlcnJvck1zZyA9IGZvcm1Cb3gucXVlcnlTZWxlY3RvcihcIi5jb250YWN0LWZvcm0tYm94LWVycm9yXCIpO1xyXG5cdFx0Zm9ybUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XHJcblx0XHRlcnJvck1zZy50ZXh0Q29udGVudCA9IFwiXCI7XHJcblx0fTtcclxuXHJcblx0Y29uc3QgY2hlY2tGb3JtID0gKGlucHV0KSA9PiB7XHJcblx0XHRpbnB1dC5mb3JFYWNoKChlbCkgPT4ge1xyXG5cdFx0XHRpZiAoZWwudmFsdWUgPT09IFwiXCIpIHtcclxuXHRcdFx0XHRzaG93RXJyb3IoZWwsIFwiVG8gcG9sZSBuaWUgbW/FvGUgYnnEhyBwdXN0ZSFcIik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y2xlYXJFcnJvcihlbCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGNoZWNrTGVuZ3RoID0gKGlucHV0LCBtaW4pID0+IHtcclxuXHRcdGNvbnN0IG5hbWVSZWdleCA9IC9eW0EtWmEtesSExIbEmMWBxYPDk8WaxbnFu8SFxIfEmcWCxYTDs8WbxbrFvFxcLSBdKyQvO1xyXG5cclxuXHRcdGlmIChpbnB1dC52YWx1ZSAhPT0gXCJcIiAmJiBpbnB1dC52YWx1ZS5sZW5ndGggPCBtaW4pIHtcclxuXHRcdFx0Y29uc3QgaW5wdXRMYWJlbCA9IGlucHV0Lm5leHRFbGVtZW50U2libGluZy50ZXh0Q29udGVudDtcclxuXHJcblx0XHRcdGlmIChpbnB1dC5jbGFzc0xpc3QuY29udGFpbnMoXCJuYW1lLWlucHV0XCIpKSB7XHJcblx0XHRcdFx0c2hvd0Vycm9yKGlucHV0LCBgJHtpbnB1dExhYmVsfSBtdXNpIHNrxYJhZGHEhyBzacSZIHogbWluLiAke21pbn0gem5ha8Ozd2ApO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKG5hbWVSZWdleC50ZXN0KGlucHV0LnZhbHVlKSkge1xyXG5cdFx0XHRjbGVhckVycm9yKGlucHV0KTtcclxuXHRcdH0gZWxzZSBpZiAoaW5wdXQudmFsdWUgPT09IFwiXCIpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0LCBcIlRvIHBvbGUgbmllIG1vxbxlIGJ5xIcgcHVzdGUhXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2hvd0Vycm9yKGlucHV0LCBcIlBvZGFubyBuaWVwb3ByYXduxIUgd2FydG/Fm8SHIVwiKTtcclxuXHRcdH1cclxuXHRcdHtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHRjb25zdCBjaGVja1Bob25lTGVuZ3RoID0gKGlucHV0KSA9PiB7XHJcblx0XHRpZiAoXHJcblx0XHRcdGlucHV0LmNsYXNzTGlzdC5jb250YWlucyhcInBob25lLWlucHV0XCIpICYmXHJcblx0XHRcdGlucHV0LnZhbHVlLmxlbmd0aCAhPT0gTUFYX0xFTkdUSCAmJlxyXG5cdFx0XHRpbnB1dC52YWx1ZSAhPT0gXCJcIlxyXG5cdFx0KSB7XHJcblx0XHRcdHNob3dFcnJvcihpbnB1dCwgYE51bWVyIHRlbGVmb251IG11c2kgc2vFgmFkYcSHIHNpxJkgeiAke01BWF9MRU5HVEh9IGN5ZnJgKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGNvbnN0IGNoZWNrQXJlYUlucHV0ID0gKGFyZWEpID0+IHtcclxuXHRcdGNvbnN0IGFyZWFSZWdleCA9IC9eKD8hMCsoPzpbLixdMCspPyQpXFxkKyg/OlsuLF1cXGQrKT8kLztcclxuXHJcblx0XHRpZiAoYXJlYVJlZ2V4LnRlc3QoYXJlYS52YWx1ZSkpIHtcclxuXHRcdFx0Y2xlYXJFcnJvcihhcmVhKTtcclxuXHRcdH0gZWxzZSBpZiAoYXJlYS52YWx1ZSA9PT0gXCJcIikge1xyXG5cdFx0XHRzaG93RXJyb3IoYXJlYSwgXCJUbyBwb2xlIG5pZSBtb8W8ZSBiecSHIHB1c3RlIVwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNob3dFcnJvcihhcmVhLCBcIlBvZGFubyBuaWVwb3ByYXduxIUgd2FydG/Fm8SHIVwiKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdGNvbnN0IGNoZWNrVGllcnNJbnB1dCA9ICh0aWVyKSA9PiB7XHJcblx0XHRjb25zdCB0aWVyUmVnZXggPSAvXig/OlsxLTldfFsxLTRdWzAtOV18NTApJC87XHJcblxyXG5cdFx0aWYgKHRpZXJSZWdleC50ZXN0KHRpZXIudmFsdWUpKSB7XHJcblx0XHRcdGNsZWFyRXJyb3IodGllcik7XHJcblx0XHR9IGVsc2UgaWYgKHRpZXIudmFsdWUgPT09IFwiXCIpIHtcclxuXHRcdFx0c2hvd0Vycm9yKHRpZXIsIFwiVG8gcG9sZSBuaWUgbW/FvGUgYnnEhyBwdXN0ZSFcIik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzaG93RXJyb3IodGllciwgXCJQb2Rhbm8gbmllcG9wcmF3bsSFIHdhcnRvxZvEhyFcIik7XHJcblx0XHR9XHJcblx0fTtcclxuXHRjb25zdCBjaGVja01haWwgPSAoZW1haWwpID0+IHtcclxuXHRcdGNvbnN0IGVtYWlsUmVnZXggPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXXsyLH0kLztcclxuXHJcblx0XHRpZiAoZW1haWxSZWdleC50ZXN0KGVtYWlsLnZhbHVlKSkge1xyXG5cdFx0XHRjbGVhckVycm9yKGVtYWlsKTtcclxuXHRcdH0gZWxzZSBpZiAoZW1haWwudmFsdWUgPT09IFwiXCIpIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVtYWlsLCBcIlRvIHBvbGUgbmllIG1vxbxlIGJ5xIcgcHVzdGUhXCIpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2hvd0Vycm9yKGVtYWlsLCBcIlBvZGFubyBuaWVwb3ByYXdueSBlbWFpbCFcIik7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Y29uc3QgY2hlY2tJZkNoZWNrZWQgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBhbGxRdWVzdGlvbkJveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcclxuXHRcdFx0XCIuY29udGFjdC1mb3JtLXF1ZXN0aW9uLWJveFwiXHJcblx0XHQpO1xyXG5cclxuXHRcdGFsbFF1ZXN0aW9uQm94ZXMuZm9yRWFjaCgocXVlc3Rpb25Cb3gpID0+IHtcclxuXHRcdFx0Y29uc3QgcmFkaW9JbnB1dHMgPSBxdWVzdGlvbkJveC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKTtcclxuXHRcdFx0Y29uc3QgaXNDaGVja2VkID0gQXJyYXkuZnJvbShyYWRpb0lucHV0cykuc29tZSgoaW5wdXQpID0+IGlucHV0LmNoZWNrZWQpO1xyXG5cdFx0XHRjb25zdCBlcnJvck1zZyA9IHF1ZXN0aW9uQm94LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XHRcdFx0XCIuY29udGFjdC1mb3JtLWJveC1xdWVzdGlvbi1lcnJvclwiXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRpZiAoIWlzQ2hlY2tlZCkge1xyXG5cdFx0XHRcdGVycm9yTXNnLnRleHRDb250ZW50ID0gXCJQcm9zesSZIHphem5hY3p5xIcgamVkbsSFIHogb3BjamkuXCI7XHJcblx0XHRcdFx0cXVlc3Rpb25Cb3guY2xhc3NMaXN0LmFkZChcImVycm9yXCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yTXNnLnRleHRDb250ZW50ID0gXCJcIjtcclxuXHRcdFx0XHRxdWVzdGlvbkJveC5jbGFzc0xpc3QucmVtb3ZlKFwiZXJyb3JcIik7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH07XHJcblxyXG5cdGNvbnN0IGNoZWNrQWdyZWVtZW50cyA9ICgpID0+IHtcclxuXHRcdGlmIChhZ3JlZW1lbnRJbnB1dC5jaGVja2VkID09PSBmYWxzZSkge1xyXG5cdFx0XHRhZ3JlZW1lbnRzQm94LmNsYXNzTGlzdC5hZGQoXCJlcnJvclwiKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGFncmVlbWVudHNCb3guY2xhc3NMaXN0LnJlbW92ZShcImVycm9yXCIpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGxldCBzZW5kaW5nID0gZmFsc2U7XHJcblx0Y29uc3QgY2hlY2tFcnJvcnMgPSAoKSA9PiB7XHJcblx0XHRjb25zdCBhbGxJbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm0tYm94XCIpO1xyXG5cdFx0Y29uc3QgaGFzRXJyb3IgPSBBcnJheS5mcm9tKGFsbElucHV0cykuc29tZSgoZWwpID0+XHJcblx0XHRcdGVsLmNsYXNzTGlzdC5jb250YWlucyhcImVycm9yXCIpXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChzZW5kaW5nKSByZXR1cm47XHJcblxyXG5cdFx0aWYgKCFoYXNFcnJvcikge1xyXG5cdFx0XHRzZW5kaW5nID0gdHJ1ZTtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250YWN0LWZvcm1cIikuc3VibWl0KCk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0c2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHRjaGVja0Zvcm0odGV4dElucHV0cyk7XHJcblx0XHRjaGVja0xlbmd0aChpbnB1dE5hbWUsIDIpO1xyXG5cdFx0Y2hlY2tQaG9uZUxlbmd0aChpbnB1dFBob25lKTtcclxuXHRcdGNoZWNrTWFpbChpbnB1dEVtYWlsKTtcclxuXHRcdGNoZWNrQXJlYUlucHV0KGlucHV0QXJlYSk7XHJcblx0XHRjaGVja1RpZXJzSW5wdXQoaW5wdXRUaWVycyk7XHJcblx0XHRjaGVja1Bob25lRm9ybWF0KGlucHV0UGhvbmUpO1xyXG5cdFx0Y2hlY2tJZkNoZWNrZWQoKTtcclxuXHRcdGNoZWNrQWdyZWVtZW50cygpO1xyXG5cdFx0Y2hlY2tFcnJvcnMoKTtcclxuXHR9KTtcclxufSk7XHJcbiJdfQ==
